<!-- src/app/features/dashboard/dashboard.component.html -->

<div class="dashboard-wrapper">
  <div class="dashboard">
    <!-- Header -->
    <div class="dashboard__header">
      <h1 class="dashboard__title">Bienvenido a GymHealth</h1>
      <p class="dashboard__subtitle">Panel de Control</p>
    </div>

    <!-- Occupancy Card -->
    <div class="dashboard__occupancy">
      <mat-card class="occupancy-card">
        <div class="occupancy-card__header">
          <div class="occupancy-card__title-section">
            <mat-icon class="occupancy-card__icon">people</mat-icon>
            <div>
              <h3 class="occupancy-card__title">Ocupaci√≥n Actual</h3>
              <p class="occupancy-card__subtitle">{{ getOccupancyStatus() }}</p>
            </div>
          </div>
          <div class="occupancy-card__stats">
            <span class="occupancy-card__current">{{ branchOccupancy().current }}</span>
            <span class="occupancy-card__separator">/</span>
            <span class="occupancy-card__capacity">{{ branchOccupancy().capacity }}</span>
          </div>
        </div>
        
        <div class="occupancy-card__progress">
          <mat-progress-bar 
            mode="determinate" 
            [value]="branchOccupancy().percentage"
            [ngClass]="'progress-bar--' + getOccupancyColor()">
          </mat-progress-bar>
          <span class="occupancy-card__percentage">{{ branchOccupancy().percentage.toFixed(1) }}%</span>
        </div>

        <div class="occupancy-card__footer">
          <mat-icon>info</mat-icon>
          <span>Actualizado en tiempo real</span>
        </div>
      </mat-card>
    </div>

    <!-- Statistics Cards -->
    <div class="dashboard__stats">
      <mat-card 
        *ngFor="let stat of stats" 
        class="stat-card"
        [ngClass]="'stat-card--' + stat.color">
        <div class="stat-card__header">
          <mat-icon class="stat-card__icon">{{ stat.icon }}</mat-icon>
          <span class="stat-card__badge">{{ stat.badge }}</span>
        </div>
        <h3 class="stat-card__value">{{ stat.value }}</h3>
        <p class="stat-card__label">{{ stat.label }}</p>
      </mat-card>
    </div>

    <!-- Recent Activity -->
    <div class="dashboard__content">
      <mat-card class="content-card">
        <div class="content-card__header">
          <h2 class="content-card__title">Actividad Reciente</h2>
          <mat-icon class="content-card__refresh">refresh</mat-icon>
        </div>
        
        <div class="activity-list">
          <div 
            *ngFor="let activity of activities" 
            class="activity-item"
            [ngClass]="'activity-item--' + activity.type">
            <div [ngClass]="'activity-item__icon activity-item__icon--' + activity.type">
              <mat-icon>{{ activity.icon }}</mat-icon>
            </div>
            <div class="activity-item__content">
              <p class="activity-item__title">{{ activity.title }}</p>
              <p class="activity-item__time">{{ activity.time }}</p>
            </div>
          </div>
        </div>
      </mat-card>
    </div>
  </div>
</div>