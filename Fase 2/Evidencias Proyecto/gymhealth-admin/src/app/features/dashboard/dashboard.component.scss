// src/app/features/dashboard/dashboard.component.scss

// ============================================
// DASHBOARD LAYOUT
// ============================================
.dashboard-wrapper {
  min-height: 100vh;
  width: 100%;
  padding: 2rem;
  background: transparent;
}

.dashboard {
  max-width: 1200px;
  margin: 0 auto;
  
  &__header {
    margin-bottom: 2rem;
  }

  &__title {
    font-size: 2rem;
    font-weight: 700;
    color: #f97316;
    margin-bottom: 0.5rem;
  }

  &__subtitle {
    color: #22d3ee;
    font-size: 1rem;
    font-weight: 600;
  }

  &__occupancy {
    margin-bottom: 2rem;
  }

  &__stats {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
    gap: 1.5rem;
    margin-bottom: 2rem;
  }

  &__content {
    margin-top: 2rem;
  }
}

// Temas para títulos
:host([data-theme="light"]) .dashboard__title {
  color: #EA580C !important;
}

:host([data-theme="light"]) .dashboard__subtitle {
  color: #00B8AC !important;
}

// ============================================
// OCCUPANCY CARD
// ============================================
.occupancy-card {
  border-radius: 1rem !important;
  padding: 1.5rem !important;
  background: linear-gradient(135deg, rgba(34, 211, 238, 0.1), rgba(147, 51, 234, 0.1)) !important;
  border: 1px solid rgba(34, 211, 238, 0.3) !important;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3) !important;

  &__header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1.5rem;
  }

  &__title-section {
    display: flex;
    align-items: center;
    gap: 1rem;
  }

  &__icon {
    font-size: 2.5rem;
    width: 2.5rem;
    height: 2.5rem;
    color: #22d3ee;
  }

  &__title {
    font-size: 1.25rem;
    font-weight: 600;
    color: white;
    margin: 0;
  }

  &__subtitle {
    font-size: 0.875rem;
    color: #94a3b8;
    margin: 0.25rem 0 0 0;
  }

  &__stats {
    display: flex;
    align-items: baseline;
    gap: 0.5rem;
  }

  &__current {
    font-size: 2.5rem;
    font-weight: 700;
    color: #22d3ee;
  }

  &__separator {
    font-size: 1.5rem;
    color: #64748b;
  }

  &__capacity {
    font-size: 1.5rem;
    font-weight: 600;
    color: #94a3b8;
  }

  &__progress {
    position: relative;
    margin-bottom: 1rem;
  }

  &__percentage {
    position: absolute;
    right: 0;
    top: -1.5rem;
    font-size: 0.875rem;
    font-weight: 600;
    color: #22d3ee;
  }

  &__footer {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    color: #64748b;
    font-size: 0.75rem;

    mat-icon {
      font-size: 1rem;
      width: 1rem;
      height: 1rem;
    }
  }
}

// Progress bar personalizado
::ng-deep .occupancy-card {
  .mat-mdc-progress-bar {
    height: 8px !important;
    border-radius: 999px;
    overflow: hidden;
    
    .mdc-linear-progress__bar-inner {
      border-radius: 999px;
    }
  }

  .progress-bar--green .mdc-linear-progress__bar-inner {
    background: linear-gradient(90deg, #10b981, #34d399) !important;
  }

  .progress-bar--cyan .mdc-linear-progress__bar-inner {
    background: linear-gradient(90deg, #06b6d4, #22d3ee) !important;
  }

  .progress-bar--orange .mdc-linear-progress__bar-inner {
    background: linear-gradient(90deg, #f97316, #fb923c) !important;
  }
}

// Tema claro para occupancy card
:host([data-theme="light"]) .occupancy-card {
  background: #FFFFFF !important;
  border: 1px solid #E2E8F0 !important;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1) !important;

  .occupancy-card__icon {
    color: #00B8AC;
  }

  .occupancy-card__title {
    color: #0F172A !important;
  }

  .occupancy-card__subtitle {
    color: #64748B !important;
  }

  .occupancy-card__current {
    color: #00B8AC;
  }

  .occupancy-card__capacity {
    color: #475569 !important;
  }

  .occupancy-card__percentage {
    color: #00B8AC;
  }

  .occupancy-card__footer {
    color: #64748B !important;
  }
}

// ============================================
// STATISTICS CARDS
// ============================================
.stat-card {
  border-radius: 1rem !important;
  padding: 1.5rem !important;
  backdrop-filter: blur(10px);
  transition: all 0.3s ease;
  cursor: pointer;
  background: linear-gradient(135deg, rgba(151, 71, 255, 0.1), rgba(151, 71, 255, 0.05)) !important;
  border: 1px solid rgba(151, 71, 255, 0.3) !important;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3) !important;

  &:hover {
    transform: translateY(-4px);
    box-shadow: 0 12px 24px rgba(151, 71, 255, 0.3) !important;
  }

  // Purple variant
  &--purple {
    background: linear-gradient(135deg, rgba(151, 71, 255, 0.1), rgba(151, 71, 255, 0.05)) !important;
    border-color: rgba(151, 71, 255, 0.3) !important;

    &:hover {
      box-shadow: 0 12px 24px rgba(151, 71, 255, 0.3) !important;
    }

    .stat-card__icon {
      color: #a78bfa;
    }

    .stat-card__badge {
      background: rgba(151, 71, 255, 0.2);
      color: #c4b5fd;
    }
  }

  // Cyan variant
  &--cyan {
    background: linear-gradient(135deg, rgba(6, 182, 212, 0.1), rgba(6, 182, 212, 0.05)) !important;
    border-color: rgba(6, 182, 212, 0.3) !important;

    &:hover {
      box-shadow: 0 12px 24px rgba(6, 182, 212, 0.3) !important;
    }

    .stat-card__icon {
      color: #22d3ee;
    }

    .stat-card__badge {
      background: rgba(6, 182, 212, 0.2);
      color: #67e8f9;
    }
  }

  // Green variant
  &--green {
    background: linear-gradient(135deg, rgba(16, 185, 129, 0.1), rgba(16, 185, 129, 0.05)) !important;
    border-color: rgba(16, 185, 129, 0.3) !important;

    &:hover {
      box-shadow: 0 12px 24px rgba(16, 185, 129, 0.3) !important;
    }

    .stat-card__icon {
      color: #34d399;
    }

    .stat-card__badge {
      background: rgba(16, 185, 129, 0.2);
      color: #6ee7b7;
    }
  }

  &__header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 1rem;
  }

  &__icon {
    font-size: 2rem;
    width: 2rem;
    height: 2rem;
  }

  &__badge {
    font-size: 0.75rem;
    font-weight: 600;
    padding: 0.25rem 0.75rem;
    border-radius: 9999px;
  }

  &__value {
    font-size: 2rem;
    font-weight: 700;
    color: white;
    margin: 0 0 0.5rem 0;
  }

  &__label {
    color: #94a3b8;
    font-size: 0.875rem;
    margin: 0;
  }
}

// Estilos para tema claro - stat cards
:host([data-theme="light"]) .stat-card {
  background: #FFFFFF !important;
  border: 1px solid #E2E8F0 !important;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1) !important;

  &:hover {
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1) !important;
  }

  &.stat-card--purple {
    background: #FFFFFF !important;
    border-color: #E9D5FF !important;
    
    .stat-card__icon {
      color: #8B35FF;
    }

    .stat-card__badge {
      background: #F3E8FF;
      color: #7C3AED;
    }
  }

  &.stat-card--cyan {
    background: #FFFFFF !important;
    border-color: #CFFAFE !important;
    
    .stat-card__icon {
      color: #00B8AC;
    }

    .stat-card__badge {
      background: #ECFEFF;
      color: #0891B2;
    }
  }

  &.stat-card--green {
    background: #FFFFFF !important;
    border-color: #D1FAE5 !important;
    
    .stat-card__icon {
      color: #059669;
    }

    .stat-card__badge {
      background: #ECFDF5;
      color: #047857;
    }
  }
}

:host([data-theme="light"]) .stat-card__value {
  color: #0F172A !important;
}

:host([data-theme="light"]) .stat-card__label {
  color: #64748B !important;
}

// ============================================
// CONTENT CARD
// ============================================
.content-card {
  background: rgba(30, 41, 59, 0.6) !important;
  border: 1px solid rgba(151, 71, 255, 0.2) !important;
  border-radius: 1rem !important;
  padding: 2rem !important;
  backdrop-filter: blur(10px);
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3) !important;

  &__header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1.5rem;
  }

  &__title {
    font-size: 1.5rem;
    font-weight: 600;
    color: white;
    margin: 0;
  }

  &__refresh {
    color: #94a3b8;
    cursor: pointer;
    transition: all 0.2s ease;

    &:hover {
      color: #22d3ee;
      transform: rotate(180deg);
    }
  }
}

// Tema claro para content card
:host([data-theme="light"]) .content-card {
  background: #FFFFFF !important;
  border: 1px solid #E2E8F0 !important;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1) !important;
}

:host([data-theme="light"]) .content-card__title {
  color: #0F172A !important;
}

:host([data-theme="light"]) .content-card__refresh {
  color: #64748B !important;

  &:hover {
    color: #00B8AC !important;
  }
}

// ============================================
// ACTIVITY LIST
// ============================================
.activity-list {
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

.activity-item {
  display: flex;
  align-items: center;
  gap: 1rem;
  padding: 1rem;
  background: rgba(30, 41, 59, 0.6) !important;
  border: 1px solid rgba(151, 71, 255, 0.2) !important;
  border-radius: 0.75rem;
  transition: all 0.2s ease;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2) !important;

  &:hover {
    background: rgba(30, 41, 59, 0.8) !important;
    border-color: rgba(151, 71, 255, 0.4) !important;
    transform: translateX(4px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3) !important;
  }

  &__icon {
    width: 2.5rem;
    height: 2.5rem;
    border-radius: 0.5rem;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    flex-shrink: 0;

    mat-icon {
      font-size: 1.5rem;
      width: 1.5rem;
      height: 1.5rem;
    }

    &--member {
      background: linear-gradient(135deg, #8b5cf6, #a78bfa);
    }

    &--payment {
      background: linear-gradient(135deg, #f97316, #fb923c);
    }

    &--class {
      background: linear-gradient(135deg, #06b6d4, #22d3ee);
    }

    &--access {
      background: linear-gradient(135deg, #10b981, #34d399);
    }
  }

  &__content {
    flex: 1;
  }

  &__title {
    color: white;
    font-weight: 500;
    margin: 0 0 0.25rem 0;
    font-size: 0.9375rem;
  }

  &__time {
    color: #94a3b8;
    font-size: 0.8125rem;
    margin: 0;
  }
}

// Tema claro para activity items
:host([data-theme="light"]) .activity-item {
  background: #FFFFFF !important;
  border: 1px solid #E2E8F0 !important;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05) !important;

  &:hover {
    background: #F8FAFC !important;
    border-color: #CBD5E1 !important;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1) !important;
  }
}

:host([data-theme="light"]) .activity-item__title {
  color: #0F172A !important;
}

:host([data-theme="light"]) .activity-item__time {
  color: #64748B !important;
}

// ============================================
// RESPONSIVE
// ============================================
@media (max-width: 768px) {
  .dashboard {
    &__title {
      font-size: 1.5rem;
    }

    &__stats {
      grid-template-columns: 1fr;
    }
  }

  .occupancy-card {
    &__header {
      flex-direction: column;
      align-items: flex-start;
      gap: 1rem;
    }

    &__stats {
      align-self: flex-end;
    }
  }

  .stat-card {
    &__value {
      font-size: 1.75rem;
    }
  }

  .content-card {
    padding: 1.5rem !important;

    &__title {
      font-size: 1.25rem;
    }
  }
}


/* 
 * PARCHE PARA STYLES.SCSS GLOBAL
 * Agrega esto al final de tu styles.scss para corregir el fondo negro
 */

// ============================================
// FIX: Fondo Negro del Dashboard
// ============================================

// Asegúrate de que los contenedores principales usen el fondo correcto
app-root,
.app-container,
.main-layout,
.content-area,
router-outlet + * {
  background: transparent !important;
}

// Forzar el fondo correcto en el body según el tema
body[data-theme="dark"],
html[data-theme="dark"] body {
  background: #0B0D12 !important; // NO #000000
}

body[data-theme="light"],
html[data-theme="light"] body {
  background: #F1F5F9 !important;
}

// Si tienes un wrapper principal que está causando el fondo negro
.dashboard-wrapper,
app-dashboard,
.page-wrapper {
  background: transparent !important;
  
  // Asegurar que los hijos también respeten esto
  > * {
    background: transparent;
  }
}




[data-theme="dark"] {
  .occupancy-card {
    background: linear-gradient(135deg, rgba(34, 211, 238, 0.15), rgba(147, 51, 234, 0.15)) !important;
    border: 1px solid rgba(34, 211, 238, 0.4) !important;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4) !important;
  }

  .stat-card {
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4) !important;
  }

  .content-card {
    background: rgba(30, 41, 59, 0.7) !important;
    border: 1px solid rgba(151, 71, 255, 0.3) !important;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4) !important;
  }

  .activity-item {
    background: rgba(30, 41, 59, 0.7) !important;
    border: 1px solid rgba(151, 71, 255, 0.3) !important;
  }
}

app-dashboard {
  .theme-toggle,
  .theme-switch,
  button[aria-label*="tema"],
  button[aria-label*="theme"] {
    display: none !important;
  }
}


.router-outlet-container,
.main-content-wrapper {
  background: transparent !important;
  min-height: 100vh;
}

