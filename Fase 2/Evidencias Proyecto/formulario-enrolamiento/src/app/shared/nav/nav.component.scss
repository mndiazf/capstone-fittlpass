/* ====== THEME ====== */
:root{
  --surface:#182435; --line:#283548; --text:#e6eef9; --muted:#a8b3c5;
  --primary:#27d5a2; --accent:#7a5cff;

  /* alto barra móvil para posicionar el sheet justo debajo */
  --navH-mobile: 64px;
}

/* ====== BAR ====== */
.navbar{
  position: sticky; top: 0; z-index: 50;
  background: var(--surface);
  border-bottom: 1px solid var(--line);
  height: 72px;
}
.navbar__inner{
  max-width: 1240px; margin: 0 auto;
  height: 100%; padding: 0 24px;
  display: flex; align-items: center; justify-content: space-between;
}

/* ====== BRAND (desktop) ====== */
.brand{ display: inline-flex; align-items: center; }
.brand__logo{
  height: 60px;
  width: auto; display: block; object-fit: contain;
}

/* ====== NAV (desktop) ====== */
.main-nav{ display: flex; align-items: center; gap: 2rem; }
.main-nav a{
  color: var(--text); text-decoration: none;
  font-weight: 500; font-size: 15px;
  transition: color .2s, border-bottom .2s;
  white-space: nowrap;
}
.main-nav a.active{ color: var(--primary); border-bottom: 2px solid var(--primary); padding-bottom: 2px; }
.main-nav a:hover{ color: var(--accent); }

/* ====== ACTIONS (desktop) ====== */
.actions{ display: flex; align-items: center; gap: 12px; }
.icon-link{
  display: inline-flex; align-items: center; gap: 8px;
  padding: 8px 12px; border-radius: 10px;
  color: var(--text); text-decoration: none;
  border: 1px solid var(--line);
  background: transparent;
  transition: background .2s, border-color .2s, transform .15s;
  line-height: 1;
  cursor: pointer;
  font-family: inherit;
  font-size: 14px;
}
.icon-link:hover{ 
  background:#1f2c40; 
  border-color:#35506e; 
  transform:translateY(-1px); 
}
.icon-link svg{ width: 18px; height: 18px; fill: currentColor; }
.btn-login{ 
  color: var(--surface); 
  background: var(--primary); 
  border: none; 
  font-weight: 600; 
  border-radius: 10px; 
  padding: 8px 16px; 
}
.btn-login:hover{ 
  background: #22c794;
  transform: translateY(-1px);
}

/* ====== PROFILE DROPDOWN ====== */
.profile-dropdown {
  position: relative;
}

.btn-profile {
  color: var(--surface);
  background: var(--primary);
  border: none;
  font-weight: 600;
  padding: 8px 14px;
  border-radius: 10px;
  
  .chevron {
    width: 16px;
    height: 16px;
    margin-left: 4px;
    transition: transform .2s;
  }
  
  &:hover {
    background: #22c794;
    transform: translateY(-1px);
  }
}

.dropdown-menu {
  position: absolute;
  top: calc(100% + 8px);
  right: 0;
  min-width: 200px;
  background: var(--surface);
  border: 1px solid var(--line);
  border-radius: 12px;
  padding: 6px;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.35);
  opacity: 0;
  pointer-events: none;
  transform: translateY(-8px);
  transition: opacity .2s, transform .2s;
  z-index: 100;
  
  &.open {
    opacity: 1;
    pointer-events: auto;
    transform: translateY(0);
    
    ~ .btn-profile .chevron {
      transform: rotate(180deg);
    }
  }
  
  a {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 10px 12px;
    color: var(--text);
    text-decoration: none;
    border-radius: 8px;
    transition: background .15s, color .15s;
    font-size: 14px;
    
    svg {
      width: 18px;
      height: 18px;
      fill: currentColor;
      opacity: 0.8;
    }
    
    &:hover {
      background: rgba(255, 255, 255, 0.06);
      color: var(--primary);
      
      svg {
        opacity: 1;
      }
    }
    
    &.active {
      background: rgba(39, 213, 162, 0.12);
      color: var(--primary);
      
      svg {
        opacity: 1;
      }
    }
  }
}

/* ====== (Desactivamos el burger antiguo del header) ====== */
.burger{ display:none; }

/* ====== BREAKPOINTS (desktop) ====== */
@media (max-width: 1439px){
  .navbar{ height: 68px; }
  .brand__logo{ height: 40px; }
  .main-nav{ gap: 1.5rem; }
}
@media (max-width: 1199px){
  .navbar{ height: 64px; }
  .brand__logo{ height: 36px; }
  .main-nav{ gap: 1.25rem; }
}
@media (max-width: 991px){
  .navbar{ height: 60px; }
  .brand__logo{ height: 32px; }
  .main-nav{ gap: 1rem; }
  .actions .btn-login span{ display:none; }
  .actions .btn-login{ padding: 8px; }
  .actions .btn-profile span:not(.chevron){ display:none; }
  .actions .btn-profile{ padding: 8px; }
  .actions .btn-profile .chevron { margin-left: 0; }
}

/* ====== MOBILE NAV (solo <900px) ====== */
.mobile-nav{ display:none; }

@media (max-width: 900px){

  /* Ocultamos la vista de escritorio, usamos la barra móvil dentro del mismo header */
  .navbar__inner{ display:none !important; }

  .navbar{ height: var(--navH-mobile); }

  .mobile-nav{ display:block; }
  .mobile-bar{
    height: var(--navH-mobile);
    display:flex; align-items:center; justify-content:space-between;
    max-width:1240px; margin:0 auto; padding:20px 16px;
  }

  .m-brand{ display:inline-flex; align-items:center; min-width:0; }
  .m-logo{
    height: 40px;
    width:auto; display:block; object-fit:contain;
  }

  .mobile-actions {
    display: flex;
    align-items: center;
    gap: 8px;
  }

  .m-profile-btn {
    position: relative;
    height: 40px;
    width: 40px;
    border: none;
    border-radius: 12px;
    background: var(--primary);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background .2s, transform .15s;
    
    svg {
      width: 20px;
      height: 20px;
      fill: var(--surface);
    }
    
    &:active {
      transform: scale(0.95);
    }
    
    &:hover {
      background: #22c794;
    }
  }

  .m-burger{
    position:relative; height:40px; width:40px;
    border:1px solid var(--line); border-radius:12px;
    background:transparent; cursor:pointer;
  }
  .m-burger span{
    position:absolute; left:10px; right:10px; height:2px; background:var(--text);
    transition: transform .2s, opacity .2s, top .2s;
  }
  .m-burger span:nth-child(1){ top:12px; }
  .m-burger span:nth-child(2){ top:18px; }
  .m-burger span:nth-child(3){ top:24px; }
  .m-burger[aria-expanded="true"] span:nth-child(1){ top:18px; transform:rotate(45deg); }
  .m-burger[aria-expanded="true"] span:nth-child(2){ opacity:0; }
  .m-burger[aria-expanded="true"] span:nth-child(3){ top:18px; transform:rotate(-45deg); }

  /* Backdrop */
  .m-backdrop{
    position: fixed; inset:0; background: rgba(0,0,0,.0);
    opacity:0; pointer-events:none; transition: opacity .2s, background .2s;
    border:0; padding:0; margin:0; z-index: 60;
  }
  .m-backdrop.open{
    background: rgba(0,0,0,.35);
    opacity:1; pointer-events:auto;
  }

  /* Sheet flotante (debajo de la barra móvil) */
  .mobile-sheet{
    position: fixed;
    left: 10px; right: 10px; top: var(--navH-mobile);
    background: var(--surface);
    border:1px solid var(--line);
    border-radius: 16px; padding: 8px;
    box-shadow: 0 16px 40px rgba(0,0,0,.45);
    transform: translateY(-12px) scale(.98);
    opacity:0; pointer-events:none;
    transition: transform .2s ease, opacity .2s ease;
    z-index: 70;
  }
  .mobile-sheet.open{ transform: translateY(0) scale(1); opacity:1; pointer-events:auto; }

  .mobile-sheet a{
    display:flex; align-items:center; gap:12px;
    padding:12px 10px; border-radius:12px; text-decoration:none;
    color: var(--text);
    cursor: pointer;
  }
  .mobile-sheet a svg{ width:18px; height:18px; fill: currentColor; opacity:.9; }
  .mobile-sheet a.active{ color: var(--primary); background: rgba(39,213,162,.10); }
  .mobile-sheet a:hover{ background: rgba(255,255,255,.06); }
  .mobile-sheet .mobile-link{ cursor: pointer; }

  .m-actions{
    margin-top:6px; display:flex; flex-direction: column; gap:8px; padding:4px 2px 2px;
  }
  .m-actions .btn-login{
    display:inline-flex; align-items:center; justify-content: center; gap:8px; padding:10px 14px;
    border-radius:999px; background:var(--primary); color:#081325; font-weight:600; text-decoration:none;
    box-shadow: 0 6px 18px rgba(39,213,162,.25);
    border: none;
    width: 100%;
  }
}