<div class="home-container">
  <!-- Hero Carousel -->
  <section class="hero-carousel">
    <div class="carousel-wrapper">
      @for (slide of heroSlides; track slide.image; let i = $index) {
        <div
          class="hero-slide"
          [class.active]="currentSlide() === i"
          [style.background-image]="'url(' + slide.image + ')'"
        >
          <div class="hero-overlay"></div>
          <div class="hero-content">
            <h1 class="hero-title">{{ slide.title }}</h1>
            <p class="hero-subtitle">{{ slide.subtitle }}</p>
          </div>
        </div>
      }
    </div>

    <!-- Navigation Arrows -->
    <button
      class="carousel-btn prev"
      (click)="prevSlide()
      "
      aria-label="Anterior"
    >
      <svg viewBox="0 0 24 24">
        <path
          d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"
        />
      </svg>
    </button>
    <button
      class="carousel-btn next"
      (click)="nextSlide()"
      aria-label="Siguiente"
    >
      <svg viewBox="0 0 24 24">
        <path
          d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"
        />
      </svg>
    </button>

    <!-- Dots Indicator -->
    <div class="carousel-dots">
      @for (slide of heroSlides; track slide.image; let i = $index) {
        <button
          class="dot"
          [class.active]="currentSlide() === i"
          (click)="goToSlide(i)"
          [attr.aria-label]="'Ir a diapositiva ' + (i + 1)"
        ></button>
      }
    </div>
  </section>

  <!-- Services Section -->
  <section id="servicios" class="services-section">
    <div class="section-header">
      <h2 class="section-title">Nuestros Servicios</h2>
      <p class="section-subtitle">
        Todo lo que necesitas para alcanzar tus objetivos
      </p>
    </div>

    <div class="services-grid">
      <div class="service-card">
        <div class="service-icon">
          <svg viewBox="0 0 24 24">
            <path
              d="M13.49 5.48c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm-3.6 13.9l1-4.4 2.1 2v6h2v-7.5l-2.1-2 .6-3c1.3 1.5 3.3 2.5 5.5 2.5v-2c-1.9 0-3.5-1-4.3-2.4l-1-1.6c-.4-.6-1-1-1.7-1-.3 0-.5.1-.8.1l-5.2 2.2v4.7h2v-3.4l1.8-.7-1.6 8.1-4.9-1-.4 2 7 1.4z"
            />
          </svg>
        </div>
        <h3>Personal Trainer</h3>
        <p>Entrenamiento personalizado con profesionales certificados</p>
      </div>

      <div class="service-card">
        <div class="service-icon">
          <svg viewBox="0 0 24 24">
            <path
              d="M21 8h-3V2H6v6H3c-1.1 0-2 .9-2 2v12h8v-4h6v4h8V10c0-1.1-.9-2-2-2zM8 4h8v4H8V4zm8 12h-4v-4h4v4z"
            />
          </svg>
        </div>
        <h3>Múltiples Sucursales</h3>
        <p>Accede a todas nuestras ubicaciones con tu membresía</p>
      </div>

      <div class="service-card">
        <div class="service-icon">
          <svg viewBox="0 0 24 24">
            <path
              d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"
            />
          </svg>
        </div>
        <h3>Evaluaciones</h3>
        <p>Programa de entrenamiento diseñado según tus objetivos</p>
      </div>
    </div>
  </section>

  <!-- Memberships Section -->
  <section id="membresias" class="memberships-section">
    <div class="section-header">
      <h2 class="section-title">Planes y Membresías</h2>
      <p class="section-subtitle">
        Elige el plan que mejor se adapte a ti
      </p>
    </div>

    @if (loadingMemberships) {
      <p class="memberships-loading">Cargando planes...</p>
    } @else if (membershipsError) {
      <p class="memberships-error">{{ membershipsError }}</p>
    } @else {
      <div class="memberships-grid">
        @for (membership of memberships; track membership.code) {
          <div
            class="membership-card"
            [class.highlight]="membership.highlight"
          >
            @if (membership.highlight) {
              <div class="popular-badge">Más Popular</div>
            }

            <div class="membership-header">
              <span class="badge">
                {{ membership.scopeLabel }}
              </span>
              <span class="duration-label">
                {{ membership.durationLabel }}
              </span>
            </div>

            <h3 class="membership-name">
              {{ membership.name }}
            </h3>

            <div class="membership-features">
              <p class="features-title">Incluye:</p>
              <ul>
                @for (feature of membership.features; track feature) {
                  <li>
                    <svg viewBox="0 0 24 24">
                      <path
                        d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"
                      />
                    </svg>
                    {{ feature }}
                  </li>
                }
              </ul>
            </div>

            <div class="membership-pricing">
              <div class="price">
                {{ membership.price }}
              </div>
            </div>

            <button
              class="membership-btn"
              (click)="openRegisterWithMembership(membership)"
            >
              Contratar Plan
            </button>
          </div>
        }
      </div>
    }
  </section>

  <!-- Classes Section -->
  <section id="clases" class="classes-section">
    <div class="section-header">
      <h2 class="section-title">Nuestras clases</h2>
      <p class="section-subtitle">
        Descubre la clase perfecta para ti
      </p>
    </div>

    <div class="classes-grid">
      @for (classItem of classes; track classItem.id) {
        <a
          [routerLink]="classItem.link"
          class="class-card"
        >
          <div
            class="class-image"
            [style.background-image]="'url(' + classItem.image + ')'"
          >
            <div class="class-overlay"></div>
          </div>
          <div class="class-content">
            <h3 class="class-title">
              {{ classItem.title }}
            </h3>
            <p class="class-description">
              {{ classItem.description }}
            </p>
            <button class="class-btn">
              Sabes más
              <svg viewBox="0 0 24 24">
                <path
                  d="M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"
                />
              </svg>
            </button>
          </div>
        </a>
      }
    </div>
  </section>

  <!-- CTA Section -->
  <section class="cta-section">
    <div class="cta-content">
      <h2 class="cta-title">¿Listo para comenzar?</h2>
      <p class="cta-text">
        Únete a nuestra comunidad y transforma tu vida
      </p>
      <div class="cta-buttons">
        <a
          routerLink="/profile/datos"
          class="cta-btn primary"
        >
          Comenzar ahora
        </a>
        <a href="#membresias" class="cta-btn secondary">
          Ver planes
        </a>
      </div>
    </div>
  </section>
</div>
